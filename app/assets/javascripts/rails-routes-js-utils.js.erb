<% require "rails-routes-js-utils" %>
window.Routes = {};
window.AllRoutes = [];
function addRouteToEnv(obj) {
    window.Routes[obj.name+'_path'] = function(idOrObject){
        if (typeof idOrObject == 'object')
            return obj.replace(idOrObject);
        var param= {};
        for (var i=0;i<obj.reqs.parts.length;i++) {
            param[obj.reqs.parts[i]] = arguments[i];
        }
        return obj.replace(param);
    };
    window.AllRoutes.push(obj);
}
<%= Rails::Routes::Js::Utils.generate_js %>